import{$ as f,$a as r,Ca as g,Eb as D,Ga as b,Oa as p,Pa as h,Qa as w,Ra as y,Sa as t,Ta as a,Ua as M,Va as u,Wa as v,Xa as c,Z as m,_ as d,aa as _,ab as x,cb as R,gb as k,hb as S,ib as E,la as C,nb as V,ob as I,ua as o,vb as T}from"./chunk-RSKYXLXY.js";function F(i,n){i&1&&(t(0,"p",1),r(1,"No tienes reservas"),a())}function L(i,n){if(i&1){let e=u();t(0,"li",4)(1,"div")(2,"strong",5),r(3),a(),t(4,"span",6),r(5),a(),t(6,"span",7),r(7),V(8,"date"),a()(),t(9,"button",8),v("click",function(){let l=m(e).$implicit,B=c(2);return d(B.abrirModalCancelacion(l.id))}),r(10," Cancelar "),a()()}if(i&2){let e=n.$implicit;o(3),x(e.nombre),o(2),R("",e.tipo," - ",e.ubicacion,""),o(2),x(I(8,4,e.horario,"short"))}}function j(i,n){if(i&1&&(t(0,"ul",2),w(1,L,11,7,"li",4,h),a()),i&2){c();let e=E(0);o(),y(e)}}function J(i,n){if(i&1){let e=u();t(0,"div",3)(1,"div",9)(2,"div",10)(3,"div",11),f(),t(4,"svg",12),M(5,"path",13),a(),_(),t(6,"h3",14),r(7,"\xBFEst\xE1 seguro de cancelar la reserva?"),a(),t(8,"button",15),v("click",function(){m(e);let l=c();return d(l.cancelarReserva(l.reservaId))}),r(9," Confirmar "),a(),t(10,"button",16),v("click",function(){m(e);let l=c();return d(l.confirmarCancelacion=!1)}),r(11,"Volver"),a()()()()()}}var N=class i{reservas=C([]);hayReservas=T(()=>this.reservas().length>0);confirmarCancelacion=!1;reservaId=0;constructor(){this.cargarReservas()}cargarReservas(){let n=JSON.parse(localStorage.getItem("reservas")??"[]");this.reservas.set(n)}abrirModalCancelacion(n){this.confirmarCancelacion=!0,this.reservaId=n}cancelarReserva(n){let e=this.reservas().filter(s=>s.id!==n);this.reservas.set(e),localStorage.setItem("reservas",JSON.stringify(e)),this.confirmarCancelacion=!1}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=g({type:i,selectors:[["app-mis-reservas"]],decls:6,vars:4,consts:[[1,"text-2xl","font-bold","mb-4"],[1,"text-gray-500","text-center","bg-gray-200","p-10","rounded-lg"],[1,"space-y-4"],["id","popup-modal","tabindex","-1",1,"flex","overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","z-50","justify-center","items-center","w-full","md:inset-0","h-[calc(100%)]","max-h-full","bg-gray-700/75"],[1,"bg-white","shadow-md","rounded-lg","p-4","flex","justify-between","items-center"],[1,"block","text-lg"],[1,"text-sm","text-gray-600"],[1,"block","text-xs","text-gray-500"],[1,"btn","btn-danger",3,"click"],[1,"relative","p-4","w-full","max-w-md","max-h-full"],[1,"relative","bg-white","rounded-lg","shadow-sm"],[1,"p-4","md:p-5","text-center"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 20 20",1,"mx-auto","mb-4","w-12","h-12","text-gray-400"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10 11V6m0 8h.01M19 10a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"],[1,"mb-5","text-lg","font-normal","text-gray-500","dark:text-gray-400"],["data-modal-hide","popup-modal","type","button",1,"btn","btn-danger","m-2",3,"click"],["data-modal-hide","popup-modal","type","button",1,"btn","btn-secondary","m-2",3,"click"]],template:function(e,s){e&1&&(k(0),t(1,"h2",0),r(2,"Mis reservas"),a(),b(3,F,2,0,"p",1)(4,j,3,0,"ul",2)(5,J,12,0,"div",3)),e&2&&(S(s.reservas()),o(3),p(s.hayReservas()?-1:3),o(),p(s.hayReservas()?4:-1),o(),p(s.confirmarCancelacion?5:-1))},dependencies:[D],encapsulation:2})};export{N as MisReservasComponent};

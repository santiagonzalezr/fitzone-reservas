import{a as $,b as ee,c as te,d as ne,e as ie,f as x,g as re,h as oe,i as ae,j as le,k as se,l as me,m as ce,n as pe,o as de,p as ue,q as ge,u as fe,v as ve}from"./chunk-TDNKUNL7.js";import{$ as g,$a as o,Ca as v,Db as D,Eb as Y,Fb as L,Ga as k,M as P,Ma as C,Oa as p,S as m,Sa as t,Ta as i,Ua as d,Va as S,Wa as c,Xa as h,Z as _,_ as w,aa as f,ab as G,bb as y,db as F,eb as I,fb as j,gb as O,hb as W,ib as U,kb as M,la as E,lb as q,mb as J,nb as z,ob as K,p as Z,qb as Q,ua as s,vb as X}from"./chunk-RSKYXLXY.js";function be(n,a){n&1&&(t(0,"div",0)(1,"div",4),g(),t(2,"svg",5),d(3,"path",6)(4,"path",7),i(),f(),t(5,"span",8),o(6,"Cargando..."),i()()())}function _e(n,a){n&1&&(t(0,"div",1),o(1,"Error al cargar la clase"),i())}function we(n,a){if(n&1){let e=S();t(0,"div",9)(1,"h2"),o(2),i(),t(3,"p",10)(4,"strong"),o(5,"Tipo:"),i(),o(6),i(),t(7,"p",10)(8,"strong"),o(9,"Ubicaci\xF3n:"),i(),o(10),i(),t(11,"p",10)(12,"strong"),o(13,"Horario:"),i(),o(14),z(15,"date"),i(),t(16,"p",11)(17,"strong"),o(18,"Descripci\xF3n:"),i(),o(19),i()(),t(20,"div",12)(21,"button",13),c("click",function(){_(e);let l=h();return w(l.reservar())}),o(22," Reservar "),i(),t(23,"button",14),c("click",function(){_(e);let l=h();return w(l.volver())}),o(24," Volver "),i()()}if(n&2){h();let e=U(0);s(2),G(e==null?null:e.nombre),s(4),y(" ",e==null?null:e.tipo,""),s(4),y(" ",e==null?null:e.ubicacion,""),s(4),y(" ",K(15,5,e==null?null:e.horario,"short"),""),s(5),y(" ",e==null?null:e.descripcion,"")}}function ye(n,a){if(n&1){let e=S();t(0,"div",0)(1,"p",15),o(2,"Clase no encontrada."),i(),t(3,"button",16),c("click",function(){_(e);let l=h();return w(l.volver())}),o(4," Volver "),i()()}}function ke(n,a){if(n&1){let e=S();t(0,"div",2)(1,"div",17)(2,"div",18)(3,"div",19),g(),t(4,"svg",20),d(5,"path",21),i(),f(),t(6,"h3",22),o(7,"Reservado correctamente"),i(),t(8,"button",23),c("click",function(){_(e);let l=h();return w(l.mostrarReservas())}),o(9," Ir a reservas "),i(),t(10,"button",24),c("click",function(){_(e);let l=h();return w(l.volver())}),o(11,"Volver"),i()()()()()}}function Se(n,a){if(n&1){let e=S();t(0,"div",3)(1,"div"),g(),t(2,"svg",25),d(3,"path",26),i(),f(),t(4,"span",27),o(5,"Esta clase ya se encuentra reservada"),i()(),t(6,"button",28),c("click",function(){_(e);let l=h();return w(l.mostrarReservas())}),o(7,"Ir a mis reservas"),i()()}}var R=class n{clasesService=m(se);route=m(ne);router=m(x);idClase=E(null);goReservas=!1;reservada=!1;clasesResource=le({loader:()=>this.clasesService.getClases()});clase=X(()=>{let a=this.idClase();return(this.clasesResource.value()??[]).find(r=>r.id.toString()===a)??null});constructor(){this.idClase.set(this.route.snapshot.paramMap.get("id"))}volver(){this.router.navigate(["/clases"])}reservar(){let a=this.clase();if(a){let e=JSON.parse(localStorage.getItem("reservas")??"[]");if(e.some(l=>l.id===a.id)){this.reservada=!0;return}e.push(a),localStorage.setItem("reservas",JSON.stringify(e)),this.goReservas=!0}}mostrarReservas(){this.router.navigate(["/reservas"])}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=v({type:n,selectors:[["app-detalle-clase"]],decls:7,vars:7,consts:[[1,"text-center"],[1,"text-red-500"],["id","popup-modal","tabindex","-1",1,"flex","overflow-y-auto","overflow-x-hidden","fixed","top-0","right-0","left-0","z-50","justify-center","items-center","w-full","md:inset-0","h-[calc(100%)]","max-h-full","bg-gray-700/75"],["role","alert",1,"flex","items-center","justify-between","flex-col","md:flex-row","px-4","py-4","md:py-2","mb-4","text-sm","text-yellow-800","rounded-lg","bg-yellow-50","dark:bg-gray-800","dark:text-yellow-300","mt-10"],["role","status"],["aria-hidden","true","viewBox","0 0 100 101","fill","none","xmlns","http://www.w3.org/2000/svg",1,"inline","w-8","h-8","text-gray-200","animate-spin","dark:text-gray-600","fill-blue-600"],["d","M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z","fill","currentColor"],["d","M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z","fill","currentFill"],[1,"sr-only"],[1,"bg-white","shadow-md","rounded-lg","p-6"],[1,"mb-2"],[1,"mb-4"],[1,"flex","gap-4","mt-8"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-secondaryr",3,"click"],[1,"bg-gray-200","p-10","rounded-lg"],[1,"btn","btn-secondary","mt-4",3,"click"],[1,"relative","p-4","w-full","max-w-md","max-h-full"],[1,"relative","bg-white","rounded-lg","shadow-sm"],[1,"p-4","md:p-5","text-center"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","currentColor","viewBox","0 0 24 24",1,"w-12","h-12","text-green-600","m-auto","mb-5"],["fill-rule","evenodd","d","M2 12C2 6.477 6.477 2 12 2s10 4.477 10 10-4.477 10-10 10S2 17.523 2 12Zm13.707-1.293a1 1 0 0 0-1.414-1.414L11 12.586l-1.793-1.793a1 1 0 0 0-1.414 1.414l2.5 2.5a1 1 0 0 0 1.414 0l4-4Z","clip-rule","evenodd"],[1,"mb-5","text-lg","font-normal","text-gray-500","dark:text-gray-400"],["data-modal-hide","popup-modal","type","button",1,"btn","btn-primary","m-2",3,"click"],["data-modal-hide","popup-modal","type","button",1,"btn","btn-secondary","m-2",3,"click"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 20 20",1,"shrink-0","inline","w-4","h-4","me-3"],["d","M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"],[1,"font-medium","mr-10"],[1,"btn","btn-primary","mt-5","md:mt-0",3,"click"]],template:function(e,r){if(e&1&&(O(0),k(1,be,7,0,"div",0)(2,_e,2,0,"div",1)(3,we,25,8)(4,ye,5,0,"div",0)(5,ke,12,0,"div",2)(6,Se,8,0,"div",3)),e&2){let l=W(r.clase());s(),p(r.clasesResource.isLoading()?1:-1),s(),p(r.clasesResource.error()?2:-1),s(),p(!r.clasesResource.isLoading()&&l?3:-1),s(),p(!r.clasesResource.isLoading()&&!l?4:-1),s(),p(r.goReservas?5:-1),s(),p(r.reservada?6:-1)}},dependencies:[Y],encapsulation:2})};var b=class n{http=m(ee);dataUrl="mock-users.json";usuarioActual=E(null);constructor(){let a=localStorage.getItem("usuario");a&&this.usuarioActual.set(JSON.parse(a))}login(a,e){return this.http.get(this.dataUrl).pipe(Z(r=>{let l=r.find(u=>u.username===a&&u.password===e);return l?(this.usuarioActual.set(l),localStorage.setItem("usuario",JSON.stringify(l)),!0):!1}))}logout(){this.usuarioActual.set(null),localStorage.removeItem("usuario")}autenticado(){return this.usuarioActual()!==null}static \u0275fac=function(e){return new(e||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})};function Me(n,a){n&1&&(t(0,"div",9),g(),t(1,"svg",11),d(2,"path",12),i(),f(),t(3,"span",13),o(4,"Info"),i(),t(5,"div")(6,"span",14),o(7,"Datos incorrectos"),i()()())}var N=class n{authService=m(b);router=m(x);username="";password="";error="";login(){this.authService.login(this.username,this.password).subscribe(a=>{a?this.router.navigate(["/clases"]):this.error="Datos incorrectos"})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=v({type:n,selectors:[["app-login"]],decls:16,vars:3,consts:[[1,"h-screen","left-0","top-0","flex","justify-center","items-center","fixed","w-full"],[1,"mx-auto","bg-white","p-6","shadow-lg","rounded-lg","min-w-80"],[1,"text-2xl","mb-4","text-center"],["autocomplete","off",1,"max-w-sm","mx-auto",3,"ngSubmit"],[1,"mb-5"],["for","user",1,"block","mb-2","text-sm","font-medium","text-gray-900"],["name","username","required","","type","text","id","user","placeholder","Usuario","autocomplete","off","spellcheck","false","required","",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"ngModelChange","ngModel"],["for","password",1,"block","mb-2","text-sm","font-medium","text-gray-900"],["type","password","id","password","name","password","placeholder","Contrase\xF1a","autocomplete","off","spellcheck","false","autocomplete","new-password","required","",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"ngModelChange","ngModel"],["role","alert",1,"flex","items-center","p-4","py-2","mb-4","text-sm","text-red-800","border","border-red-300","rounded-lg","bg-red-50","dark:text-red-400","dark:border-red-800"],["type","submit",1,"btn","btn-primary","w-full"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 20 20",1,"shrink-0","inline","w-4","h-4","me-3"],["d","M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"],[1,"sr-only"],[1,"font-medium"]],template:function(e,r){e&1&&(t(0,"div",0)(1,"div",1)(2,"h2",2),o(3,"Iniciar sesi\xF3n"),i(),t(4,"form",3),c("ngSubmit",function(){return r.login()}),t(5,"div",4)(6,"label",5),o(7,"Usuario"),i(),t(8,"input",6),j("ngModelChange",function(u){return I(r.username,u)||(r.username=u),u}),i()(),t(9,"div",4)(10,"label",7),o(11,"Contrase\xF1a"),i(),t(12,"input",8),j("ngModelChange",function(u){return I(r.password,u)||(r.password=u),u}),i()(),k(13,Me,8,0,"div",9),t(14,"button",10),o(15,"Submit"),i()()()()),e&2&&(s(8),F("ngModel",r.username),s(4),F("ngModel",r.password),s(),p(r.error?13:-1))},dependencies:[ve,ge,me,ce,pe,fe,ue,de],encapsulation:2})};var H=()=>{let n=m(b),a=m(x);return n.autenticado()?!0:(a.navigate(["/login"]),!1)};var Ce=[{path:"login",component:N},{path:"clases",canActivate:[H],loadComponent:()=>import("./chunk-DFWQHQ6W.js").then(n=>n.ListadoClasesComponent)},{path:"reservas",canActivate:[H],loadComponent:()=>import("./chunk-MWR7ZUWK.js").then(n=>n.MisReservasComponent)},{path:"clases/:id",component:R},{path:"",redirectTo:"login",pathMatch:"full"}];var he={providers:[Q({eventCoalescing:!0}),ae(Ce),te()]};var xe=()=>["/clases"],De=n=>({hidden:n}),Le=()=>["/reservas"],Re=()=>["/login"],A=class n{authService=m(b);toggleBtn=!1;toggleNav(){this.toggleBtn=!this.toggleBtn}logout(){this.authService.logout()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=v({type:n,selectors:[["app-nav"]],decls:23,vars:12,consts:[[1,"bg-gray-800","border-gray-700","fixed","w-full","top-0"],[1,"max-w-screen-xl","flex","flex-wrap","items-center","justify-between","mx-auto","p-4"],[1,"flex","items-center","space-x-3","rtl:space-x-reverse",3,"routerLink"],[1,"self-center","text-2xl","font-semibold","whitespace-nowrap","dark:text-white"],[1,"flex","items-center"],[1,"text-white","mr-5"],["data-collapse-toggle","navbar-hamburger","type","button","aria-controls","navbar-hamburger","aria-expanded","false",1,"inline-flex","items-center","justify-center","p-2","w-10","h-10","text-sm","text-gray-500","rounded-lg","hover:bg-gray-100","focus:outline-none","focus:ring-2","focus:ring-gray-200","dark:text-gray-400","dark:hover:bg-gray-700","dark:focus:ring-gray-600","cursor-pointer",3,"click"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 17 14",1,"w-5","h-5"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M1 1h15M1 7h15M1 13h15"],["id","navbar-hamburger",1,"hidden","w-full",3,"ngClass"],[1,"flex","flex-col","font-medium","mt-4","rounded-lg","bg-gray-50","dark:bg-gray-800","dark:border-gray-700"],[3,"click"],["routerLinkActive","bg-blue-700","aria-current","page",1,"block","py-2","px-3","text-white","rounded-sm","hover:bg-gray-700",3,"routerLink"],["routerLinkActive","bg-blue-700",1,"block","py-2","px-3","text-white","text-gray-900","rounded-sm","hover:bg-gray-700",3,"routerLink"],[1,"block","py-2","px-3","text-white","text-gray-900","rounded-sm","hover:bg-gray-700",3,"routerLink"]],template:function(e,r){e&1&&(t(0,"nav",0)(1,"div",1)(2,"a",2)(3,"span",3),o(4,"FitZone"),i()(),t(5,"div",4)(6,"p",5)(7,"strong"),o(8),i()(),t(9,"button",6),c("click",function(){return r.toggleNav()}),g(),t(10,"svg",7),d(11,"path",8),i()()(),f(),t(12,"div",9)(13,"ul",10)(14,"li",11),c("click",function(){return r.toggleBtn=!1}),t(15,"a",12),o(16,"Clases"),i()(),t(17,"li",11),c("click",function(){return r.toggleBtn=!1}),t(18,"a",13),o(19,"Reservas"),i()(),t(20,"li",11),c("click",function(){return r.logout()}),t(21,"a",14),o(22,"Salir"),i()()()()()()),e&2&&(s(2),C("routerLink",M(6,xe)),s(6),y("Hola, ",r.authService.usuarioActual().nombre,""),s(4),C("ngClass",q(7,De,!r.toggleBtn)),s(3),C("routerLink",M(9,xe)),s(3),C("routerLink",M(10,Le)),s(3),C("routerLink",M(11,Re)))},dependencies:[re,oe,L,D],styles:["nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.bg-blue-700[_ngcontent-%COMP%]:hover{background-color:#1447e6}"]})};var Te=(n,a)=>({"mt-25":n,"mb-10":a});function Ne(n,a){n&1&&d(0,"app-nav")}var V=class n{title="fitzone-reservas";router=m(x);static \u0275fac=function(e){return new(e||n)};static \u0275cmp=v({type:n,selectors:[["app-root"]],decls:3,vars:5,consts:[[1,"container","mx-auto",3,"ngClass"]],template:function(e,r){e&1&&(k(0,Ne,1,0,"app-nav"),t(1,"div",0),d(2,"router-outlet"),i()),e&2&&(p(r.router.url!=="/login"?0:-1),s(),C("ngClass",J(2,Te,r.router.url!=="/login",r.router.url!=="/login")))},dependencies:[ie,A,L,D],encapsulation:2})};$(V,he).catch(n=>console.error(n));
